import{a as b,U as P,r as R,f as E,h as d,m as n,w as c,u as s,v as M,q as a,t as g,p as f,s as w,I as N,V as U,x as h,E as B,F as I,z as L,o as u}from"./entry.be01013c.js";import{_ as j}from"./page-header.vue.529b007a.js";/* empty css                  *//* empty css                   *//* empty css                 */import{c as _,r as D,m as A,u as F,s as G}from"./index.e4184762.js";import{I as S,_ as z}from"./identity-request-group.1b3ec974.js";const T={class:"dialog-footer"},H={class:"grid grid-cols-2"},J=a("div",{class:"flex justify-center"},[a("img",{class:"aspect-auto w-3/4 ml-5",src:z})],-1),K={class:"flex h-full items-center justify-center"},O={class:"w-1/2 rounded-xl p-5 py-8 bg-gradient-to-r from-cyan-500/5 to-blue-500/5"},Q=a("p",{class:"text-2xl text-center mb-5"}," Регистрация ",-1),W={key:0,class:"text-xs text-red-500 mb-5"},X={key:1,class:"text-xs text-red-500 mb-5"},Y={key:2,class:"text-xs text-red-500"},Z={class:"w-full flex justify-end mt-1"},ee={class:"text-sm"},de=b({__name:"index",setup(se){const r=P({login:"",password:"",confirmPassword:null}),v=new S,l=R(!1),m=_.withMessage("Обязательное поле",D),x=_.withMessage("Минимальная длина - 8 символов",A(8)),y=E(()=>({login:{required:m},password:{required:m,minLength:x},confirmPassword:{required:m,minLength:x,sameAs:_.withMessage("Пароли не совпадают",G(r.password))}})),t=F(y,r);async function V(){if(await t.value.$validate(),t.value.$error)return;const i=await v.register({login:r.login,password:r.password},e=>l.value=!0);i.errors!=null&&U.error(i.errors)}function k(){h().push("/login")}return(i,e)=>{const $=B,C=I,q=j,p=L;return u(),d(N,null,[n(C,{modelValue:s(l),"onUpdate:modelValue":[e[1]||(e[1]=o=>M(l)?l.value=o:null),e[2]||(e[2]=()=>k())],title:"Регистрация прошла успешно!",width:"30%","align-center":""},{footer:c(()=>[a("span",T,[n($,{onClick:e[0]||(e[0]=o=>l.value=!1)},{default:c(()=>[w("Ок")]),_:1})])]),_:1},8,["modelValue"]),n(q,{header:"Авторизация"}),a("div",H,[J,a("div",K,[a("div",O,[Q,n(p,{onChange:e[3]||(e[3]=o=>s(t).login.$touch()),placeholder:"Логин",modelValue:s(r).login,"onUpdate:modelValue":e[4]||(e[4]=o=>s(r).login=o)},null,8,["modelValue"]),s(t).login.$error?(u(),d("span",W,g(s(t).login.$errors[0].$message),1)):f("",!0),n(p,{onChange:e[5]||(e[5]=o=>s(t).password.$touch()),class:"mt-1",id:"password",name:"password",placeholder:"Пароль",type:"password","show-password":"",modelValue:s(r).password,"onUpdate:modelValue":e[6]||(e[6]=o=>s(r).password=o)},null,8,["modelValue"]),s(t).password.$error?(u(),d("span",X,g(s(t).password.$errors[0].$message),1)):f("",!0),n(p,{onChange:e[7]||(e[7]=o=>s(t).confirmPassword.$touch()),class:"mt-1",placeholder:"Подтверждение пароля",type:"password","show-password":"",modelValue:s(r).confirmPassword,"onUpdate:modelValue":e[8]||(e[8]=o=>s(r).confirmPassword=o)},null,8,["modelValue"]),s(t).confirmPassword.$error?(u(),d("span",Y,g(s(t).confirmPassword.$errors[0].$message),1)):f("",!0),a("div",Z,[a("p",ee,[w("Уже есть аккаунт? "),a("a",{class:"text-sky-500 cursor-pointer hover:text-sky-300",onClick:e[9]||(e[9]=o=>("useRouter"in i?i.useRouter:s(h))().push("/login"))},"Войдите")])]),n($,{onClick:V,class:"w-full mt-14 mb-5",type:"primary"},{default:c(()=>[w("Зарегистрироваться")]),_:1})])])])],64)}}});export{de as default};
