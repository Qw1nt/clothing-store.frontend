import{_ as k}from"./page-header.vue.1d1f3d47.js";import{a as b,U as q,f as C,h as l,m as i,q as t,u as s,t as m,p,s as g,w as L,I as E,V as M,a2 as N,T as B,x as f,z as I,E as R,o as u}from"./entry.c85bd422.js";/* empty css                 *//* empty css                  */import{c as _,r as S,m as T,u as U}from"./index.445adda1.js";import{I as j,_ as G}from"./identity-request-group.63d2ade8.js";const z={class:"grid grid-cols-2"},A=t("div",{class:"flex justify-center"},[t("img",{class:"aspect-auto w-3/4 ml-5",src:G})],-1),D={class:"flex h-full items-center justify-center"},F={class:"w-1/2 rounded-xl p-5 py-8 bg-gradient-to-r from-cyan-500/5 to-blue-500/5"},W=t("p",{class:"text-2xl text-center mb-5"}," Вход ",-1),H={key:0,class:"text-xs text-red-500 mb-5"},J={key:1,class:"text-xs text-red-500 mb-5"},K={class:"w-full flex justify-end mt-1"},O={class:"text-sm"},te=b({__name:"index",setup(P){const n=q({login:"",password:""}),w=new j,d=_.withMessage("Обязательное поле",S),x=_.withMessage("Минимальная длина - 8 символов",T(8)),y=C(()=>({login:{required:d},password:{required:d,minLength:x}})),o=U(y,n);async function h(){if(await o.value.$validate(),o.value.$error)return;const r=await w.login({login:n.login,password:n.password},async e=>await $(e));console.log(r),r.errors&&M.error(r.errors)}async function $(r){N(r.accessToken),await B().syncWithLocalstorage(),await f().push("/profile")}return(r,e)=>{const v=k,c=I,V=R;return u(),l(E,null,[i(v,{header:"Авторизация"}),t("div",z,[A,t("div",D,[t("div",F,[W,i(c,{onChange:e[0]||(e[0]=a=>s(o).login.$touch()),placeholder:"Логин",modelValue:s(n).login,"onUpdate:modelValue":e[1]||(e[1]=a=>s(n).login=a)},null,8,["modelValue"]),s(o).login.$error?(u(),l("span",H,m(s(o).login.$errors[0].$message),1)):p("",!0),i(c,{onChange:e[2]||(e[2]=a=>s(o).login.$touch()),class:"mt-1",placeholder:"Пароль",type:"password",modelValue:s(n).password,"onUpdate:modelValue":e[3]||(e[3]=a=>s(n).password=a)},null,8,["modelValue"]),s(o).password.$error?(u(),l("span",J,m(s(o).password.$errors[0].$message),1)):p("",!0),t("div",K,[t("p",O,[g("Нет аккаунта? "),t("a",{class:"text-sky-500 cursor-pointer hover:text-sky-300",onClick:e[4]||(e[4]=a=>("useRouter"in r?r.useRouter:s(f))().push("/registration"))},"Зарегистрируйтесь!")])]),i(V,{onClick:e[5]||(e[5]=a=>h()),class:"w-full mt-14 mb-5",type:"primary"},{default:L(()=>[g("Войти")]),_:1})])])])],64)}}});export{te as default};
