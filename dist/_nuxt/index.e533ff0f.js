import{_ as I}from"./page-header.vue.8fc97ede.js";import{R as M,a as N,r as l,l as P,h as v,m as i,u as s,w as c,v as L,q as m,p as w,c as h,I as C,x as S,Z as F,$ as G,o as r,t as g,J as b,s as J,a0 as O,a1 as T}from"./entry.6a536ff6.js";import{_ as U}from"./card-catalog.vue.881684a9.js";/* empty css                 *//* empty css                  *//* empty css                  *//* empty css                        */import{C as Z}from"./catalog-request-group.e513a060.js";class j extends M{constructor(){super("category")}async getAll(u){return await this.httpClient.get("",u)}}const z={key:0,class:"grid grid-cols-10"},H={class:"value"},K={class:"flex"},Q=m("div",{class:"text-sm mt-1 ml-5"}," Категория: ",-1),W={class:"mt-2 text-sky-500"},ce=N({__name:"index",setup(x){const u=new Z,y=new j,o=l([]),n=l([]),p=l(""),d=l([]),_=l({}),k=(e,t)=>{const f=e?o.value.filter(R(e)):o.value;t(f)},R=e=>t=>t.name.toLowerCase().indexOf(e.toLowerCase())===0;function B(e){S().push(`/product-info/${e.id}`)}async function D(e){_.value=e,e.id!=-1?await u.getByCategory(e.id,t=>n.value=t):n.value=o.value}return P(async()=>{await u.getAll(e=>o.value=e),n.value=o.value,await y.getAll(e=>d.value=e),d.value.unshift({name:"Все",id:-1}),_.value=d.value[0]}),(e,t)=>{const f=I,V=F,q=O,A=T,E=G,$=U;return r(),v(C,null,[i(f,{header:"Каталог"}),s(o)!=null?(r(),v("div",z,[i(V,{modelValue:s(p),"onUpdate:modelValue":t[0]||(t[0]=a=>L(p)?p.value=a:null),"fetch-suggestions":k,clearable:"",class:"col-start-4 col-span-4",placeholder:"Поиск товара",onSelect:B},{default:c(({item:a})=>[m("div",H,g(a.name),1)]),_:1},8,["modelValue"]),m("div",K,[Q,i(E,{class:"ml-1"},{dropdown:c(()=>[i(A,null,{default:c(()=>[(r(!0),v(C,null,b(s(d),a=>(r(),h(q,{onClick:X=>D(a)},{default:c(()=>[J(g(a.name),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),default:c(()=>[m("p",W,g(s(_).name),1)]),_:1})])])):w("",!0),s(n).length>0?(r(),h($,{key:1,data:s(n)},null,8,["data"])):w("",!0)],64)}}});export{ce as default};
